<!DOCTYPE html>
<html>
<head>
  <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="http://code.createjs.com/easeljs-0.7.0.min.js"></script>
  <script src="http://code.createjs.com/tweenjs-0.5.1.min.js"></script>
  <script src="ball.js"></script>
  <script src="canvas.js"></script>
  <script src="events.js"></script>
  <script src="bar.js"></script>
  <link rel="stylesheet" href="style.css"></link>
  <script>
  
  var init = function() {
      CANVAS.init("doodle");

      ball.init("#FF0000");
      CANVAS.addShape(ball.shape);
      ball.setInitialPosition(CANVAS.width/2, CANVAS.height/2);

      left_bar = new bar();
      left_bar.init("#FF0000", 1);
      CANVAS.addShape(left_bar.shape);
      left_bar.setInitialPosition(0, CANVAS.height/2 - left_bar.height / 2);

      right_bar = new bar();
      right_bar.init("#FF0000", -1);
      CANVAS.addShape(right_bar.shape);

      right_bar.setInitialPosition(CANVAS.width - right_bar.width, CANVAS.height/2  - right_bar.height / 2);

  }

  var tick = function() {
    
    left_bar.update(CANVAS);
    left_bar.draw();


    right_bar.update(CANVAS);
    right_bar.draw();

    ball.update(CANVAS, left_bar);
    ball.draw();  

    CANVAS.update();
  };

  var addCallbacks = function(){
    document.onkeydown = handleKeyDown;
    document.onkeyup = handleKeyUp;

    createjs.Ticker.setFPS(30);
    createjs.Ticker.addEventListener("tick", tick);
  };

  init();
  addCallbacks();



</script>
</head>
<body onLoad="init();">
  <canvas id="doodle" width="500" height="300"></canvas>
</body>
</html>